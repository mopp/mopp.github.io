Created: 2016-06-10  
Updated: 2016-06-10

# 01. OS自作準備
***



## 作るOSについて
ここでは、OSが、どんなPCで動くのか、どういう設計指針で行くのかということを決めます。  
といっても、趣味で作っているものなので、きちっとあるわけではありません。  
ざっと、列挙します。

* 名前
    * Axel (あくせる)
* 対象アーキテクチャ
    * x86_32
* カーネルアーキテクチャ
    * モノリシックカーネル
* 備考
    * 軽い汎用OS
    * GUIを内蔵する
    * いずれ、ARMやx86_64にも対応したいので、それを考慮しつつ作る

ひとまず、こんな感じでやっていこうかと思います。  
変更などがあれば随時追加します。
***


## 開発環境
C言語から脱却し、モダンなRustを使って開発を進めていきます。  
**開発環境はLinux**を前提とします。
余裕があれば、Macでの開発も書いてみたいですけれど、以前断念したのであまり…という感じです。  
以下は使用するツールです。

* rustc (Nightly)
    * Rustコンパイラです。
    * 現時点で1.11.0-devを使っています。
* cargo
    * Rustのパッケージマネージャです。
    * 日本語で木箱という意味です。
* qemu
    * 開発のためのエミューレータです。
    * GDBとの連携もあり、意外と高機能です。
* grub
    * ブートローダです。
    * こいつにOSを起動してもらいます。
* binutils
    * ldコマンドなど一式のことです。
    * OS実行ファイル生成に欠かせません。
* gcc (multilib)
    * 言わずと知れたコンパイラ(コレクション)です。

インストールに関しては、そのうち書こうと思います…

現在のOSは大抵64bitですが、Axelの対象アーキテクチャはx86_32なので、32bitです。
なので、64bit環境で32bitプログラムを作成する必要があります。
いわゆるクロスコンパイルですね。
なので、gccはmultilib版を使います。
multilib版だと、32bitと64bitの両方に向けてコンパイルできるからです。
***
